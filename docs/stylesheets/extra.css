/* --- 全局黑白极简变量覆盖 --- */
:root {
    /* 定义主色调为纯黑 */
    --md-primary-fg-color: #000000;
    --md-primary-fg-color--light: #333333;
    --md-primary-fg-color--dark: #000000;
    --md-accent-fg-color: #000000;

    /* 移除头部阴影，实现扁平化 */
    --md-shadow-z1: none;
    --md-shadow-z2: none;
}

/* --- 暗黑模式下的变量 --- */
[data-md-color-scheme="slate"] {
    --md-primary-fg-color: #000000; /* 保持头部黑色 */
    --md-accent-fg-color: #ffffff;  /* 强调色变白 */

    /* 让背景更深邃，而不是 Material 默认的深蓝灰 */
    --md-default-bg-color: #0a0a0a;
    --md-default-fg-color: #e0e0e0;
}

/* --- 细节调整 --- */

/* 头部导航栏背景：亮色模式下纯白，文字纯黑 */
[data-md-color-scheme="default"] .md-header {
    background-color: #ffffff;
    color: #000000;
    border-bottom: 1px solid #e0e0e0; /* 加一条细线区分 */
}

/* 头部导航栏链接颜色 */
[data-md-color-scheme="default"] .md-header__button,
[data-md-color-scheme="default"] .md-tabs__link {
    color: #000000;
    opacity: 0.7;
}

[data-md-color-scheme="default"] .md-tabs__link--active {
    color: #000000;
    font-weight: bold;
    opacity: 1;
}

/* 去除代码块的圆角，更硬朗 */
.md-typeset pre > code {
    border-radius: 0;
}

/* 链接下划线样式 (黑白风常用) */
.md-typeset a {
    color: inherit;
    text-decoration: underline;
    text-decoration-thickness: 1px;
    text-underline-offset: 4px;
}
.md-typeset a:hover {
    color: var(--md-accent-fg-color);
    text-decoration-thickness: 2px;
}

/* 图片默认居中 */
.md-typeset img {
    display: block;
    margin: 0 auto;
}

/* docs/stylesheets/extra.css */

/* --- 核心修复：针对 GLightbox 包裹的图片容器 --- */
/* 解释：既然 img 不支持 ::after，我们就利用 GLightbox 生成的 <a> 标签作为容器 */
.md-typeset a.glightbox {
    display: block;         /* 让链接变成块级元素，以便支持 margin */
    position: relative;     /* 为水印的绝对定位做参照 */
    width: fit-content;     /* 关键：让容器宽度紧贴图片，否则水印会跑到屏幕最右边 */
    margin: 0 auto;         /* 保持图片整体居中 */
}

/* 在图片右下角添加水印 */
.md-typeset a.glightbox::after {
    content: "© liwh1227";  /* 水印文字 */
    position: absolute;
    bottom: 6px;            /* 距离底部微调 */
    right: 6px;             /* 距离右侧微调 */
    font-size: 11px;
    font-weight: bold;
    color: rgba(255, 255, 255, 0.8);
    background: rgba(0, 0, 0, 0.5); /* 半透明黑底，保证白字可见 */
    padding: 2px 6px;
    border-radius: 4px;
    pointer-events: none;   /* 让水印不阻挡鼠标点击图片 */
    z-index: 10;
}

/* --- 兼容逻辑：保留 Figure 支持（以防你手写 HTML）--- */
.md-typeset figure {
    display: table; /* table 能让 figure 自动贴合图片宽度 */
    margin: 0 auto;
    text-align: center;
    position: relative;
}
.md-typeset figure::after {
    content: "© LIWH.DEV";
    position: absolute;
    bottom: 10px;
    right: 10px;
    font-size: 12px;
    color: rgba(255, 255, 255, 0.6);
    background: rgba(0, 0, 0, 0.4);
    padding: 2px 6px;
    border-radius: 4px;
    pointer-events: none;
    z-index: 10;
}
.md-typeset figcaption {
    display: block;
    text-align: center;
    margin-top: 8px;
    font-style: italic;
    color: #666;
    font-size: 0.9em;
}

/* --- 图注样式修复 --- */
/* 2. 针对 Markdown 原生写法 (兼容 GLightbox 结构) */
.md-typeset img + em,
.md-typeset a.glightbox + em {
    display: block;
    text-align: center;
    margin-top: 6px;      /* 拉近与图片的距离 */
    margin-bottom: 20px;
    font-style: normal;    /* 取消斜体，更像正式图注 */
    color: #666;
    font-size: 0.9em;
}

/* 强制数学公式颜色适配黑白主题 */
.md-typeset .arithmatex,
.mjx-container {
    color: var(--md-default-fg-color) !important;
    fill: var(--md-default-fg-color) !important;
}

/* 脚注部分样式优化 */
.md-typeset .footnote {
    font-size: 0.85em; /* 字体稍微改小 */
    color: #666;       /* 颜色改灰，降低视觉干扰 */
    border-top: 1px solid #eee; /* 顶部分割线 */
    margin-top: 2em;
}

/* 脚注里的链接去除下划线，保持整洁 */
.md-typeset .footnote a {
    text-decoration: none;
}

/* 鼠标悬停时的引用气泡背景 (适配你的黑白风) */
.md-tooltip {
    background-color: #000;
    color: #fff;
    font-size: 0.85em;
    border-radius: 0; /* 直角，更硬朗 */
}

/* --- 表格标题样式适配 --- */
/* 逻辑：选中紧跟在表格容器后的段落里的斜体文字 */
.md-typeset .md-typeset__table + p > em,
.md-typeset table + p > em {
    display: block !important;
    text-align: center !important;
    margin-top: 0.5em !important;
    margin-bottom: 2em !important;
    font-style: normal !important;  /* 强制取消斜体 */
    color: #666 !important;
    font-size: 0.9em !important;
    font-weight: bold;
}